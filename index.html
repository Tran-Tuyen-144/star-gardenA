<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>HEHEHE</title>
<style>
html, body {
  margin:0; height:100%; overflow:hidden;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(160deg,#dda9f6,#8843ff,#0014a8);
  background-size:300% 300%;
  animation: skyShift 25s ease-in-out infinite alternate;
}

@keyframes skyShift {
  from{background-position:0 0} 
  to{background-position:100% 100%} 
}

canvas { display:block; width:100%; height:100%; }

.hint {
  position:absolute;
  /* NOTE: Thay đổi top để hạ dòng chữ xuống 2/3 màn hình (ví dụ: 66.67vh là 2/3 chiều cao màn hình) */
  top:16.67vh;
  width:100%;
  text-align:center;
  /* NOTE: Thay đổi font-size để tự sửa size chữ (hiện tại đã làm to hơn: từ 1.3em lên 2.5em) */
  font-size:2.5em;
  font-weight:700;
  color:#fff;
  text-shadow:0 0 10px #ffc2f5,0 0 25px #ffb3ff;
  animation: glow 2s ease-in-out infinite alternate;
}

@keyframes glow {
  from{opacity:0.8;text-shadow:0 0 5px #ffd6ff}
  to{opacity:1;text-shadow:0 0 25px #ff99ff}
}

.message {
  position:absolute;
  color:#111;
  font-weight:600;
  text-shadow:0 0 15px rgba(76,87,248,0.9),0 0 30px #ffc6ff;
  pointer-events:none;
  opacity:1;
  transition:all 1s ease-out;
  font-size:2em;
  white-space:nowrap;
}
</style>
</head>
<body>

<div class="hint">HÃY CHẠM VÀO MẤY CÁI SAO DƯỚI ĐUY NÈ</div>
<canvas id="sky"></canvas>

<script>
const canvas=document.getElementById('sky');
const ctx=canvas.getContext('2d');
let stars=[];

const colors=['#ff7eb9','#ff65a3','#f8c8dc','#ffa6c1','#fcbad3','#b5ead7','#c7ceea','#ffb6b9','#f6abb6'];
const cuteIcons=["(≧◡≦)","(づ￣ ³￣)づ","(♡°▽°♡)","(つ✧ω✧)つ","(ฅ^•ﻌ•^ฅ)","ʕっ•ᴥ•ʔっ","(´▽`ʃ♡ƪ)","(っ˘ω˘ς)","(≧▽≦)/","(つω`*)っ","(｡･ω･｡)ﾉ♡","(❁´◡`❁)"];
const iconColors=['#ff69b4','#ffb6c1','#ff7eb9','#fcbad3','#f6abb6','#b5ead7','#c7ceea','#ffd1dc','#ff99ff'];

// ==== NOTE: Thay đổi kích thước ngôi sao ở đây ====
const STAR_MIN_RADIUS = 40; // bán kính nhỏ nhất của sao
const STAR_MAX_RADIUS = 50; // bán kính lớn nhất của sao

function resize(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
window.addEventListener('resize',resize); resize();

class Star{
  constructor(x,y,r,color){
    this.x=x; this.y=y; this.r=r; this.color=color;
    this.alpha=Math.random()*0.5+0.6;
    this.fade=Math.random()*0.02+0.005;
    this.speedX=(Math.random()-0.5)*0.15;
    this.speedY=(Math.random()-0.5)*0.15;
  }
  draw(){
    ctx.save();
    ctx.globalAlpha=this.alpha;
    ctx.fillStyle=this.color;
    drawCuteStar(ctx,this.x,this.y,5,this.r,this.r/2);
    ctx.restore();
  }
  update(){
    this.alpha+=this.fade;
    if(this.alpha<=0.5||this.alpha>=1)this.fade*=-1;
    this.x+=this.speedX; this.y+=this.speedY;
    if(this.x<0)this.x=canvas.width; if(this.x>canvas.width)this.x=0;
    if(this.y<0)this.y=canvas.height; if(this.y>canvas.height)this.y=0;
  }
}

// sửa drawStar -> cute hơn
function drawCuteStar(ctx,x,y,points,outer,inner){
  ctx.beginPath();
  const step=Math.PI/points;
  for(let i=0;i<2*points;i++){
    const r=(i%2===0)?outer:inner;
    const a=i*step-Math.PI/2;
    ctx.lineTo(x+r*Math.cos(a),y+r*Math.sin(a));
  }
  ctx.closePath();
  ctx.fill();
  ctx.shadowColor='white';
  ctx.shadowBlur=10; // glow mềm mại dễ thương
}

function initStars(){
  stars=[];
  for(let i=0;i<50;i++){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height;
    // ==== sử dụng hằng số STAR_MIN_RADIUS & STAR_MAX_RADIUS ====
    const r=Math.random()*(STAR_MAX_RADIUS-STAR_MIN_RADIUS)+STAR_MIN_RADIUS;
    const color=colors[Math.floor(Math.random()*colors.length)];
    stars.push(new Star(x,y,r,color));
  }
}
initStars();

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(const s of stars){ s.update(); s.draw(); }
  requestAnimationFrame(animate);
}
animate();

// click -> show icon bay lên
canvas.addEventListener('click', e=>{
  const {offsetX,offsetY}=e;
  for(let s of stars){
    const dx=s.x-offsetX, dy=s.y-offsetY;
    if(Math.sqrt(dx*dx+dy*dy)<s.r+10){
      showIcon(offsetX,offsetY);
      s.alpha=1; s.shadowBlur=20;
      setTimeout(()=>s.shadowBlur=6,1000); 
      break;
    }
  }
});

function showIcon(x,y){
  const msg=document.createElement('div');
  msg.className='message';
  msg.textContent=cuteIcons[Math.floor(Math.random()*cuteIcons.length)];
  msg.style.left=x+'px';
  msg.style.top=y+'px';
  msg.style.fontSize=(40 + Math.random()*40)+'px';
  msg.style.color = iconColors[Math.floor(Math.random()*iconColors.length)];
  
  document.body.appendChild(msg);
  let posY=y, opacity=1;
  const interval=setInterval(()=>{
    posY-=2; opacity-=0.015;
    msg.style.top=posY+'px';
    msg.style.opacity=opacity;
    if(opacity<=0){ clearInterval(interval); msg.remove(); }
  },10);
}

</script>
</body>
</html>
