<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Hãy chạm vào ngôi sao để nhận icon dễ thương </title>
<style>
html, body { margin:0; height:100%; overflow:hidden; font-family:'Segoe UI',sans-serif; background:linear-gradient(160deg,#dda9f6,#8843ff,#0014a8); background-size:300% 300%; animation: skyShift 25s ease-in-out infinite alternate;}
@keyframes skyShift { from{background-position:0 0} to{background-position:100% 100%} }
canvas { display:block; width:100%; height:100%; }

.hint { position:absolute; top:20px; width:100%; text-align:center; font-size:1.2em; font-weight:600; color:#fff; text-shadow:0 0 10px #ffc2f5,0 0 25px #ffb3ff; animation: glow 2s ease-in-out infinite alternate; }
@keyframes glow { from{opacity:0.8;text-shadow:0 0 5px #ffd6ff} to{opacity:1;text-shadow:0 0 25px #ff99ff} }

.message { position:absolute; color:#111; font-weight:600; text-shadow:0 0 10px rgba(76,87,248,0.9),0 0 20px #ffc6ff; pointer-events:none; opacity:1; transition:all 1s ease-out; }
</style>
</head>
<body>

<canvas id="sky"></canvas>

<script>
// ==== STAR ANIMATION ====
const canvas=document.getElementById('sky');
const ctx=canvas.getContext('2d');
let stars=[];
const colors=['#ff7eb9','#ff65a3','#f8c8dc','#ffa6c1','#fcbad3','#b5ead7','#c7ceea','#ffb6b9','#f6abb6'];
const cuteIcons=["(≧◡≦)","(づ￣ ³￣)づ","(♡°▽°♡)","(つ✧ω✧)つ","(ฅ^•ﻌ•^ฅ)","ʕっ•ᴥ•ʔっ","(´▽`ʃ♡ƪ)","(っ˘ω˘ς)","(≧▽≦)/","(つω`*)っ","(｡･ω･｡)ﾉ♡","(❁´◡`❁)"];

function resize(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
window.addEventListener('resize',resize); resize();

class Star{
  constructor(x,y,r,color){
    this.x=x; this.y=y; this.r=r; this.color=color;
    this.alpha=Math.random()*0.5+0.6;
    this.fade=Math.random()*0.02+0.005;
    this.speedX=(Math.random()-0.5)*0.15;
    this.speedY=(Math.random()-0.5)*0.15;
  }
  draw(){
    ctx.save();
    ctx.globalAlpha=this.alpha;
    ctx.fillStyle=this.color;
    drawStar(ctx,this.x,this.y,5,this.r,this.r/2);
    ctx.shadowColor=this.color; ctx.shadowBlur=6;
    ctx.fill();
    ctx.restore();
  }
  update(){
    this.alpha+=this.fade;
    if(this.alpha<=0.5||this.alpha>=1)this.fade*=-1;
    this.x+=this.speedX; this.y+=this.speedY;
    if(this.x<0)this.x=canvas.width; if(this.x>canvas.width)this.x=0;
    if(this.y<0)this.y=canvas.height; if(this.y>canvas.height)this.y=0;
  }
}

function drawStar(ctx,x,y,points,outer,inner){
  ctx.beginPath();
  const step=Math.PI/points;
  for(let i=0;i<2*points;i++){
    const r=(i%2===0)?outer:inner;
    const a=i*step-Math.PI/2;
    ctx.lineTo(x+r*Math.cos(a),y+r*Math.sin(a));
  }
  ctx.closePath();
}

function initStars(){
  stars=[];
  for(let i=0;i<50;i++){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height;
    const r=Math.random()*16+12;
    const color=colors[Math.floor(Math.random()*colors.length)];
    stars.push(new Star(x,y,r,color));
  }
}
initStars();
function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(const s of stars){ s.update(); s.draw(); }
  requestAnimationFrame(animate);
}
animate();

// click -> show icon bay len
canvas.addEventListener('click', e=>{
  const {offsetX,offsetY}=e;
  for(let s of stars){
    const dx=s.x-offsetX, dy=s.y-offsetY;
    if(Math.sqrt(dx*dx+dy*dy)<s.r+10){
      showIcon(offsetX,offsetY);
      s.alpha=1; s.shadowBlur=20;
      setTimeout(()=>s.shadowBlur=6,1000); break;
    }
  }
});

function showIcon(x,y){
  const msg=document.createElement('div');
  msg.className='message';
  msg.textContent=cuteIcons[Math.floor(Math.random()*cuteIcons.length)];
  msg.style.left=x+'px'; msg.style.top=y+'px';
  document.body.appendChild(msg);
  let posY=y, opacity=1;
  const interval=setInterval(()=>{
    posY-=1; opacity-=0.01;
    msg.style.top=posY+'px'; msg.style.opacity=opacity;
    if(opacity<=0){ clearInterval(interval); msg.remove(); }
  },10);
}
</script>

</body>
</html>
